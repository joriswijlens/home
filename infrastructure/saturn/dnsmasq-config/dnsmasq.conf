# dnsmasq configuration for WireGuard VPN DNS
# Provides local hostname resolution for home infrastructure

# Listen on WireGuard interface for VPN clients
# Note: wg0 interface is created by wg-easy
listen-address=10.8.0.1
bind-interfaces

# DNS port
port=53

# Don't read /etc/resolv.conf
no-resolv

# Upstream DNS servers
# Use KPN router for local hostname resolution
server=192.168.2.254

# Fallback to Cloudflare for public DNS
server=1.1.1.1
server=1.0.0.1

# Local domain - set to .home to match KPN router
domain=home
# Automatically append domain to short hostnames
expand-hosts

# Cache settings
cache-size=1000

# Log queries for debugging (comment out in production)
log-queries
